# CNN

## CNN을 코드로 구현하는 repo
- 이론을 통해 학습한 CNN 모델을 구현해본다.
- tensorflow와 pytorch를 통해 구현

## 3. Data descrption

### Dataset overview

![스크린샷 2024-07-22 오전 10 10 14](https://github.com/user-attachments/assets/9e25ff77-98dc-407e-91fa-c7832cbd69ff)

- train data : 1118822개
- test data : 9272개


### EDA
### 데이터 한계점 파악
1. 결측치
- 대부분의 Feature가 결측치가 80%이상

2. feature 신뢰도
- 특정 feature의 경우 동일한 값을 다르게 표현

3. feature 유용성
- 아파트 가격을 유추하기에 적절한지에 대한 의문

### 데이터 한계점 극복 방안
1. 결측치
- 크롤링, feature 제거, 통계치 활용

2. feature 신뢰도
- 실제 값과 비교
- 데이터 출처 확인

3. feature 유용성
- domain 지식 활용
- 새로운 feature 추가

### 결측치 처리
- 좌표X, 좌표Y
    - 크롤링
    - 시군구, 번지 활용

### 이상치 처리
1. 아파트별 target 이상치
- 아파트별 가격이 튀는 부분 탐색
- 좌우 2개씩 4개 데이터 평균과 현재 값 비교
- 2배 이상 작거나 큰 경우 평균치로 대체
- 성능이 안 좋아져 처리 폐기

(아파트별 Target 이상치 사진 첨부)

2. 전용면적별 target 이상치
- 전용면적이 300이 넘는 데이터를 이상치로 판단
- 해당 데이터의 target을 강제로 2배 상향
- 모델 성능 상승이 없어 처리 폐기

(전용면적별 이상치 사진 첨부)

3. 층별 target 이상치
- 층이 높으면 가격이 상승할 것이라는 가정
- 지하2층, 65층의 가격을 이상치로 파악
- 지하2층 : 한남더힐에 의해 평균값이 상승
- 65층 : 전체적으로 값이 낮으나 중간에 값이 더 낮은 데이터 존재
- 해당 데이터들을 삭제하는 방향으로 진행
- 모델 성능이 안 좋아져 처리 폐기

(층별 이상치 사진-1 첨부)
(층별 이상치 사진-2 첨부)
(층별 이상치 사진-3 첨부)

### Feature engineering
- 다양한 변수를 생성하여 사용

### feature 생성
1. 지하철, 버스 정보
- geopy 라이브러리 활용
- 주어진 지하철, 버스 데이터 활용
- 각 아파트와 정류장 사이의 거리 측정
- feature 생성
    - 가장 가까운 지하철 역과의 거리
    - 인근(1.5km 이내) 지하철 역 개수
    - 가장 가까운 정류장과의 거리
    - 인근(300m이내) 버스 정류장 개수
    - etc..

2. GDP, 금리, 인플레이션
- 외부 데이터 활용
- 계약년 or 계약년월에 맞춰 적용

(GDP 사진 첨부)

3. 거래량, 구별 지가지수
- 외부 데이터 활용
- 계약년월, 구+계약년월에 맞춰 적용

(거래량, 구별 지가지수 사진 첨부)

4. 공시지가 평균, 매수우위지수
- 외부 데이터 활용

(매수우위지수 그림 첨부)

5. 30년이상 50년이하
- 건물나이가 30년부터 가격이 상승
- 50년 이후로 다시 하락

(건물나이 그래프 첨부)

6. 아파트, 지하철 카테고리
- 아파트 이름에 특정 단어가 들어있는지 확인
- 지하철 노선 확인
- 카테고리화 

(아파트, 지하철 카테고리 사진 첨부)

7. 아파트 가격 평균
- 아파트별 이전 거래 가격의 평균을 적용
- test에만 존재하는 아파트는 위치, 층, 면적이 비슷한 아파트 값들로 대체

8. 계약월_sin
- np.sin(2 * np.pi * df[‘계약월'] / 12)

### feature selection
1. Feature Importance
- 모델 생성 후 feature importance 값 참고
- 8개의 feature 선택

(feature importance 사진 첨부)

2. Feed Forward Selection
- feature를 추가할 때마다 새로운 모델 생성
- 성능이 좋아지면 해당 feature 사용

(Feed Forward Selection 사진 첨부)

### 최종 모델에 사용한 feature
(최종 모델에 사용한 feature 사진 첨부)
